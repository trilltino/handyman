<!DOCTYPE html>
<!--
    Handyman Marketplace - Frontend Entry Point

    This HTML file serves as the entry point for the Yew WebAssembly frontend.
    Trunk (the WASM build tool) processes this file and injects the compiled WASM module.

    How it works:
    1. Trunk reads the data-trunk attribute and compiles the Rust frontend to WASM
    2. Trunk injects <script> tags for the WASM module and JavaScript glue code
    3. The WASM module calls yew::Renderer::<App>::new().render() (see frontend/main.rs)
    4. Yew renders the App component into the <body> element

    External dependencies:
    - Stripe.js: Payment processing integration (Stripe Checkout)
    - Cesium.js: 3D globe visualization for the map page

    Build commands:
    - Development: trunk serve (http://127.0.0.1:8080 with hot reload)
    - Production: trunk build --release (outputs to dist/ folder)
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handyman - Rust Web App</title>

    <!-- Trunk directive: Compile Rust frontend to WASM and inject here -->
    <!-- This compiles frontend/main.rs with the yew/csr feature enabled -->
    <link data-trunk rel="rust" data-cargo-features="yew/csr" data-bin="handyman-app" />

    <!-- Stripe.js: Payment processing library (loaded from CDN) -->
    <!-- Used by frontend/stripe.rs for checkout integration -->
    <script src="https://js.stripe.com/v3/"></script>

    <!-- Cesium.js: 3D globe and map visualization library -->
    <!-- Used by frontend/pages/map.rs for interactive Portugal map -->
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.115/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.115/Build/Cesium/Widgets/widgets.css" rel="stylesheet">

    <!-- Global CSS styles and design system -->
    <style>
        /* ============================================================================
           CSS Custom Properties (Design System)
           ============================================================================
           Color palette and design tokens used throughout the application.
           These CSS variables are referenced in component styles (stylist crate).
        */
        :root {
            /* Primary brand colors (red/crimson theme) */
            --primary-red: #DC143C;      /* Main brand color (crimson) */
            --dark-red: #B91130;         /* Darker shade for hover states */
            --light-red: #FF1744;        /* Lighter accent */
            --accent-red: #C62828;       /* Secondary accent */

            /* Neutral colors */
            --pure-white: #FFFFFF;       /* Pure white background */
            --off-white: #FAFAFA;        /* Slightly off-white for subtle contrast */
            --light-gray: #F5F5F5;       /* Light gray for backgrounds */
            --medium-gray: #E0E0E0;      /* Medium gray for borders */

            /* Text colors */
            --text-dark: #2C2C2C;        /* Primary text color (dark gray) */
            --text-medium: #555555;      /* Secondary text color (medium gray) */

            /* Shadows (for depth and elevation) */
            --shadow-light: rgba(220, 20, 60, 0.1);   /* Light red shadow */
            --shadow-medium: rgba(220, 20, 60, 0.2);  /* Medium red shadow */
            --shadow-dark: rgba(0, 0, 0, 0.15);       /* Dark neutral shadow */
        }

        /* ============================================================================
           Global Reset and Base Styles
           ============================================================================ */

        /* CSS Reset: Remove default browser margins and paddings */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;  /* Include padding/border in element width/height */
        }

        /* Body: Main application container */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
            line-height: 1.6;         /* Comfortable line spacing for readability */
            color: var(--text-dark);  /* Default text color */
            background: linear-gradient(135deg, var(--pure-white) 0%, var(--off-white) 100%);  /* Subtle gradient background */
            min-height: 100vh;        /* Full viewport height */
        }

        /* Main content area (excludes navigation bar height) */
        main {
            min-height: calc(100vh - 70px);  /* 70px = navigation bar height */
        }

        /* ============================================================================
           Global Component Styles
           ============================================================================ */

        /* Global button styles: Smooth transitions for hover effects */
        button, .button {
            font-family: inherit;              /* Use same font as body */
            transition: all 0.3s ease;         /* Smooth animation on hover */
        }

        /* ============================================================================
           Custom Scrollbar Styling (Webkit browsers: Chrome, Safari, Edge)
           ============================================================================ */

        /* Scrollbar track (background) */
        ::-webkit-scrollbar {
            width: 10px;  /* Scrollbar width */
        }

        /* Scrollbar track background */
        ::-webkit-scrollbar-track {
            background: var(--light-gray);  /* Light gray track */
        }

        /* Scrollbar thumb (draggable part) */
        ::-webkit-scrollbar-thumb {
            background: var(--primary-red);  /* Brand color thumb */
            border-radius: 5px;              /* Rounded corners */
        }

        /* Scrollbar thumb on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: var(--dark-red);  /* Darker on hover */
        }
    </style>
</head>
<body>
    <!-- Yew App component will be rendered here by WASM module -->
    <!-- See frontend/main.rs: yew::Renderer::<App>::new().render() -->
</body>
</html>
